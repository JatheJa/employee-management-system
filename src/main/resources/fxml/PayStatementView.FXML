<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.employeemgmt.view.payroll.PayStatementController">

    <!-- Top: Title + Filters -->
    <top>
        <VBox spacing="8.0">
            <padding>
                <Insets top="10.0" right="10.0" bottom="10.0" left="10.0"/>
            </padding>

            <!-- Title -->
            <Label text="Pay Statement History"
                   style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

            <!-- Filter row -->
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <!-- Employee ID (HR Admin) -->
                <Label text="Employee ID:"/>
                <TextField fx:id="empIdField"
                           promptText="Enter Employee ID"/>

                <!-- Date range filters -->
                <Label text="From:"/>
                <DatePicker fx:id="startDatePicker"/>

                <Label text="To:"/>
                <DatePicker fx:id="endDatePicker"/>

                <!-- Buttons -->
                <Button fx:id="loadAllButton"
                        text="Load All"
                        onAction="#handleLoadAll"/>

                <Button fx:id="filterButton"
                        text="Filter by Date"
                        onAction="#handleFilterByDate"/>

                <Button fx:id="myStatementsButton"
                        text="My Statements"
                        onAction="#handleLoadMyStatements"/>
            </HBox>
        </VBox>
    </top>

    <!-- Center: Table -->
    <center>
        <VBox spacing="5.0">
            <padding>
                <Insets top="10.0" right="10.0" bottom="10.0" left="10.0"/>
            </padding>

            <TableView fx:id="payTable" prefHeight="400.0">
                <columns>
                    <TableColumn fx:id="payDateColumn"
                                 text="Pay Date"
                                 prefWidth="100.0"/>
                    <TableColumn fx:id="periodColumn"
                                 text="Pay Period"
                                 prefWidth="160.0"/>
                    <TableColumn fx:id="grossPayColumn"
                                 text="Gross Pay"
                                 prefWidth="100.0"/>
                    <TableColumn fx:id="netPayColumn"
                                 text="Net Pay"
                                 prefWidth="100.0"/>
                    <TableColumn fx:id="federalTaxColumn"
                                 text="Federal Tax"
                                 prefWidth="100.0"/>
                    <TableColumn fx:id="stateTaxColumn"
                                 text="State Tax"
                                 prefWidth="100.0"/>
                    <TableColumn fx:id="otherDeductionsColumn"
                                 text="Other Deductions"
                                 prefWidth="130.0"/>
                </columns>
            </TableView>
        </VBox>
    </center>

    <!-- Bottom: status + totals -->
    <bottom>
        <VBox spacing="5.0">
            <padding>
                <Insets top="10.0" right="10.0" bottom="10.0" left="10.0"/>
            </padding>

            <!-- Message (errors / success) -->
            <Label fx:id="messageLabel"
                   wrapText="true"/>

            <!-- Totals summary -->
            <Label fx:id="totalsLabel"
                   wrapText="true"
                   style="-fx-font-weight: bold;"/>
        </VBox>
    </bottom>

</BorderPane>
